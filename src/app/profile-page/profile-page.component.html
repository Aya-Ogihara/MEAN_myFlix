<header class="header">
  <h1 class="header__logo" (click)="goMovies()">myFlix</h1>
  <nav class="navigation">
    <button
      class="navigation__btn"
      mat-flat-button
      color="accent"
      (click)="goMovies()"
    >
      Movies
    </button>
    <button
      class="navigation__btn"
      mat-stroked-button
      color="accent"
      (click)="userLogout()"
    >
      Logout
    </button>
  </nav>
</header>
<main class="main">
  <div class="profile">
    <mat-card>
      <mat-card-header>
        <mat-card-title>Account Details</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>Username: {{ user.Username }}</p>
        <p>Password: ********</p>
        <p>Email address: {{ user.Email }}</p>
        <p>Birthday: {{ user.Birthday | date }}</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-flat-button color="accent">Update my profile</button>
        <button mat-stroked-button color="accent" (click)="deleteUser()">Delete account</button>
      </mat-card-actions>
    </mat-card>
  </div>
  <div class="favorite-movies">
    <button
      mat-button
      class="favorite-button"
      color="accent"
      (click)="userFavoriteMovies()"
    >
      Check my Favorite Movies
    </button>
    <div class="movie-cards">
      <mat-card *ngFor="let movie of userFavorite; let i = index">
        <mat-card-header>
          <mat-card-title>{{ movie.Title }}</mat-card-title>
          <mat-card-subtitle
            >Directed by: {{ movie.Director.Name }}</mat-card-subtitle
          >
        </mat-card-header>
        <img
          class="movie-cards__img"
          src="{{ movie.ImagePath }}"
          alt="{{ movie.Title }}"
        />
        <mat-card-actions>
          <button
            mat-stroked-button
            color="accent"
            (click)="openGenreDialog(movie.Genre.Name, movie.Genre.Description)"
          >
            Genre
          </button>
          <button
            mat-stroked-button
            color="accent"
            (click)="
              openDirectorDialog(movie.Director.Name, movie.Director.Bio)
            "
          >
            Director
          </button>
          <button
            mat-stroked-button
            color="accent"
            (click)="openSynopsisDialog(movie.Title, movie.Description)"
          >
            Synopsis
          </button>
          <button mat-icon-button (click)="toggleFavorite(movie)">
            <mat-icon *ngIf="!isFavorite(movie._id)">favorite_border</mat-icon>
            <mat-icon *ngIf="isFavorite(movie._id)">favorite</mat-icon>
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</main>
